name: Update Flights 

on: 
    workflow_dispatch: # allows manual trigger schedule: 
      - cron: "*/5 * * * *" # every 5 minutes 
    
    jobs: 
      update: 
        runs-on: ubuntu-latest 
        env: 
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }} 
          SPREADSHEET_ID: ${{ secrets.SPREADSHEET_ID }} 
          GOOGLE_SERVICE_ACCOUNT_JSON: ${{ secrets.GOOGLE_SERVICE_ACCOUNT_JSON }} 
          FLIGHT_SHEET: travelDestinations 
          
        steps: 
          - name: Checkout repository 
            uses: actions/checkout@v3 
            
          - name: Setup Python 
            uses: actions/setup-python@v4 
            with: python-version: "3.11" 
            
          - name: Install dependencies 
            run: | 
              python -m pip install --upgrade pip 
              pip install gspread requests 
              
          - name: Run flight updater 
            run: python bot.py
